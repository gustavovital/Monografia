# %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
# Autor : Gustavo Vital
# Data : 15 de agosto de 2019
# Descrição : Corte em frequencias_economicas e ajustes em 
# datas para cada reuniao. Linha do tempo
# %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

############# Pacotes Necessários  ############### 

require(pdftools)
require(rprojroot)
require(tidyverse)
require(readr)
require(tm)
require(tidytext)

############### Definindo Diretório ##############

root = rprojroot::is_rstudio_project 
mydir = root$find_file()

################### preparação ###################

frequencias_economicas <- readRDS('Datas/frequencias_economicas.rds')

########### criando o vetor de datas #############


datas <- as.Date(c('2003-01-22', '2003-02-19', '2003-03-19', '2003-04-23', '2003-05-21',
                   '2003-06-18', '2003-07-23', '2003-08-20', '2003-09-17', '2003-10-22',
                   '2003-11-19', '2003-12-17', '2004-01-21', '2004-02-18', '2004-03-18', 
                   '2004-04-14', '2004-05-19', '2004-06-16', '2004-07-21', '2004-08-18',
                   '2004-09-15', '2004-10-19', '2004-11-17', '2004-12-15', '2005-01-19',
                   '2005-02-16', '2005-03-16', '2005-04-20', '2005-05-18', '2005-06-15',
                   '2005-07-20', '2005-08-17', '2005-09-14', '2005-10-19', '2005-11-23',
                   '2005-12-14', '2006-01-18', '2006-03-08', '2006-04-19', '2006-05-31',
                   '2006-07-19', '2006-08-30', '2006-10-17', '2006-11-29', '2007-01-24',
                   '2007-03-07', '2007-04-18', '2007-06-06', '2007-07-18', '2007-09-05', 
                   '2007-10-17', '2007-12-05', '2008-01-23', '2008-03-05', '2008-04-16',
                   '2008-06-04', '2008-07-23', '2008-09-10', '2008-10-29', '2008-12-10',
                   '2009-01-21', '2009-03-11', '2009-04-29', '2009-06-10', '2009-07-22',
                   '2009-09-02', '2009-10-21', '2009-12-09', '2010-01-27', '2010-03-17',
                   '2010-04-28', '2010-06-09', '2010-07-21', '2010-09-01', '2010-10-20',
                   '2010-12-08', '2011-01-19', '2011-03-02', '2011-04-20', '2011-06-08',
                   '2011-07-20', '2011-08-31', '2011-10-19', '2011-11-30', '2012-01-18',
                   '2012-03-07', '2012-04-18', '2012-05-30', '2012-07-11', '2012-08-29',
                   '2012-10-10', '2012-12-28', '2013-01-16', '2013-03-06', '2013-04-17',
                   '2013-05-29', '2013-07-10', '2013-08-28', '2013-10-09', '2013-11-27',
                   '2014-01-15', '2014-02-26', '2014-04-02', '2014-05-28', '2014-07-16',
                   '2014-09-03', '2014-10-29', '2014-12-03', '2015-01-21', '2015-03-04',
                   '2015-04-29', '2015-06-03', '2015-07-29', '2015-09-02', '2015-10-21',
                   '2015-11-25', '2016-01-20', '2016-03-02', '2016-04-27', '2016-06-08',
                   '2016-07-20', '2016-08-31', '2016-10-19', '2016-11-30', '2017-01-11',
                   '2017-02-22', '2017-04-12', '2017-05-31', '2017-07-26', '2017-09-06',
                   '2017-10-25', '2017-12-06', '2018-02-07', '2018-03-21', '2018-05-16',
                   '2018-07-20', '2018-08-01', '2018-09-19', '2018-10-31', '2018-12-12'))

# https://www.bcb.gov.br/controleinflacao/comunicadoscopom


analise_economica_geral <- data.frame(datas, frequencias_economicas)

saveRDS(analise_economica_geral, 'Datas/analise_economica_geral.rds')
rm(list = ls())

print(xtable(frequencias_economicas), row.names = FALSE)
